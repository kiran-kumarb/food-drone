<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Customer Dashboard - DroneFood</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --brand: #007bff;
      --brand2: #00c6ff;
      --accent: #ff6b6b;
      --bg: #f5f8ff;
      --text: #222;
      --muted: #6b7280;
      --radius: 16px;
      --shadow: 0 6px 20px rgba(0,0,0,0.08);
      --card: #fff;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family:"Poppins",sans-serif;
      background:linear-gradient(180deg,#f5faff 0%,#edf3ff 100%);
      color:var(--text);
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    /* NAVBAR */
    .navbar {
      background:#fff;
      padding:14px 60px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      box-shadow:var(--shadow);
      position:sticky;
      top:0;
      z-index:10;
    }
    .logo { display:flex; align-items:center; gap:10px; }
    .logo img { width:42px; height:42px; }
    .logo h1 { color:var(--brand); font-size:24px; font-weight:700; }
    .nav-right { display:flex; align-items:center; gap:18px; }
    .username { font-weight:600; font-size:15px; color:#333; }

    .logout-btn, .history-btn {
      border:none;
      padding:8px 16px;
      border-radius:10px;
      font-weight:600;
      cursor:pointer;
      transition:transform 0.2s ease, filter 0.2s ease;
    }
    .logout-btn {
      background:var(--accent);
      color:#fff;
    }
    .history-btn {
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      color:#fff;
    }
    .logout-btn:hover, .history-btn:hover {
      transform:scale(1.05);
      filter:brightness(0.95);
    }

    /* DASHBOARD */
    .dashboard {
      display:grid;
      grid-template-columns:1.5fr 0.8fr;
      gap:40px;
      padding:50px 80px;
      flex:1;
    }
    .panel {
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:30px;
    }
    .panel h2 {
      font-size:20px;
      color:var(--brand);
      margin-bottom:20px;
      display:flex;
      align-items:center;
      gap:8px;
    }

    /* === RESTAURANTS + MENU === */
    .restaurant-menu-container {
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:25px;
    }

    .restaurant-list {
      display:flex;
      flex-direction:column;
      gap:20px;
      overflow-y:auto;
      max-height:500px;
      padding-right:8px;
    }
    .restaurant-card {
      display:flex;
      align-items:center;
      gap:15px;
      border:1px solid #e5e7eb;
      background:#fff;
      border-radius:12px;
      padding:12px;
      box-shadow:0 2px 6px rgba(0,0,0,0.04);
      cursor:pointer;
      transition:all 0.2s ease;
    }
    .restaurant-card:hover {
      transform:translateY(-3px);
      box-shadow:0 6px 14px rgba(0,0,0,0.08);
      border-color:var(--brand);
    }
    .restaurant-card img {
      width:90px;
      height:90px;
      object-fit:cover;
      border-radius:10px;
    }
    .restaurant-info h4 {
      font-size:16px;
      font-weight:600;
      color:#1e293b;
    }
    .restaurant-info p {
      font-size:13px;
      color:var(--muted);
    }
    .badge {
      display:inline-block;
      font-size:12px;
      padding:4px 8px;
      border-radius:6px;
      font-weight:600;
      margin-top:6px;
    }
    .open { background:#d1fae5; color:#065f46; }
    .closed { background:#fee2e2; color:#b91c1c; }

    .menu-container {
      background:#f9fbff;
      border-radius:12px;
      padding:16px;
      border:1px solid #e1e8ff;
      min-height:400px;
      overflow-y:auto;
    }
    .menu-container h4 {
      font-size:17px;
      color:#1e293b;
      margin-bottom:8px;
    }
    .menu-container div {
      font-size:15px;
      padding:6px 0;
      border-bottom:1px solid #eef3ff;
    }

    /* RIGHT PANEL */
    .checkout-box {
      display:flex;
      flex-direction:column;
      gap:15px;
    }
    #cartItems {
      background:#f9fbff;
      border:1px solid #e1e8ff;
      border-radius:12px;
      padding:10px;
      font-size:14px;
      max-height:250px;
      overflow-y:auto;
    }
    #totalPrice {
      font-weight:600;
      font-size:16px;
      color:#1a56db;
      text-align:right;
      margin-top:8px;
    }

    .btn-primary {
      background:linear-gradient(135deg,var(--brand),var(--brand2));
      border:none;
      color:#fff;
      padding:12px;
      border-radius:10px;
      font-weight:600;
      cursor:pointer;
      transition:transform 0.2s ease,filter 0.2s ease;
    }
    .btn-primary:hover { transform:scale(1.03); filter:brightness(0.95); }

    .status-box {
      background:#eef5ff;
      border:1px solid #cfe0ff;
      border-radius:10px;
      padding:12px;
      font-size:15px;
      min-height:60px;
      color:#333;
      line-height:1.5;
    }

    footer {
      text-align:center;
      background:#fff;
      padding:18px 0;
      border-top:1px solid #eee;
      font-size:13px;
      color:#777;
    }

    /* MODAL (ORDER HISTORY) */
    .modal {
      display:none;
      position:fixed;
      z-index:999;
      left:0; top:0;
      width:100%; height:100%;
      background-color:rgba(0,0,0,0.5);
      justify-content:center;
      align-items:center;
    }
    .modal-content {
      background:#fff;
      border-radius:12px;
      padding:20px 30px;
      width:70%;
      max-height:80%;
      overflow-y:auto;
      box-shadow:var(--shadow);
      animation:fadeIn 0.3s ease-in-out;
    }
    @keyframes fadeIn {
      from {opacity:0; transform:translateY(-10px);}
      to {opacity:1; transform:translateY(0);}
    }
    .close {
      float:right;
      font-size:28px;
      font-weight:bold;
      cursor:pointer;
    }
    .close:hover { color:var(--accent); }
    .order-card {
      border:1px solid #eee;
      border-radius:10px;
      padding:15px;
      margin-bottom:12px;
      background:#f9fbff;
      box-shadow:0 2px 6px rgba(0,0,0,0.05);
    }
    .order-card h4 { color:var(--brand); margin-bottom:5px; }
    .order-card p { font-size:14px; color:#555; }

    @media (max-width:1000px){
      .dashboard{ grid-template-columns:1fr; padding:30px 25px; }
      .restaurant-menu-container{ grid-template-columns:1fr; }
    }
  </style>
</head>

<body>
  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="logo">
      <img src="https://cdn-icons-png.flaticon.com/512/1046/1046784.png" alt="Drone Logo">
      <h1>DroneFood</h1>
    </div>
    <div class="nav-right">
      <span id="custName" class="username">Customer</span>
      <button id="viewOrdersBtn" class="history-btn">üïí View Orders</button>
      <a href="index.html"><button class="logout-btn">Logout</button></a>
    </div>
  </nav>

  <!-- DASHBOARD -->
  <main class="dashboard">
    <!-- LEFT PANEL -->
    <section class="panel">
      <h2>üç¥ Restaurants & Menu</h2>

      <div class="restaurant-menu-container">
        <!-- LEFT: Restaurants -->
        <div id="restaurantList" class="restaurant-list">
          <p style="color:#777; font-size:14px;">Loading restaurants...</p>
        </div>

        <!-- RIGHT: Menu -->
        <div id="menuContainer" class="menu-container">
          <h4>üìã Menu Items</h4>
          <p style="color:#777; font-size:14px;">Select a restaurant to view available dishes.</p>
        </div>
      </div>
    </section>

 <!-- RIGHT PANEL -->
<section class="panel">
  <h2>üßæ Your Order</h2>
  <div class="checkout-box">
    <div id="cartItems">No items selected.</div>
    <p id="totalPrice">Total: ‚Çπ0</p>
    <button id="placeOrderBtn" class="btn-primary">Place Order</button>

    <div id="status" class="status-box">Waiting for your order...</div>

    <!-- New additions -->
    <button id="trackOrderBtn" class="btn-primary" style="background:#10b981;">üöÅ Track Order</button>
    <div id="notificationBox" style="
        background:#f9fbff;
        border:1px solid #e1e8ff;
        border-radius:12px;
        padding:10px;
        font-size:14px;
        min-height:80px;
        max-height:150px;
        overflow-y:auto;
        color:#333;">
      No notifications yet.
    </div>
  </div>
</section>

  </main>

  <!-- FOOTER -->
  <footer>¬© 2025 DroneFood Technologies ‚Äî üöÅ Fast ‚Ä¢ Safe ‚Ä¢ Smart Delivery</footer>

  <!-- ORDER HISTORY MODAL -->
  <div id="orderHistoryModal" class="modal">
    <div class="modal-content">
      <span id="closeModal" class="close">&times;</span>
      <h2>üïí Your Order History</h2>
      <div id="orderHistoryContent">
        <p style="color:#777;">Loading your orders...</p>
      </div>
    </div>
  </div>

  <!-- MAIN SCRIPT -->
  <script src="customer_dashboard.js"></script>
</body>
</html>
